import{s as e,v as n,i as o,x as l,y as t,z as r,A as s,d as i,C as a,r as h,D as u,E as c,F as d,G as m,H as f,k as g}from"./index-C6F7-JtS.js";import{c as j}from"./useNaiveInternal-BQMcGFc6.js";const $=l([t("code","\n font-size: var(--n-font-size);\n font-family: var(--n-font-family);\n ",[r("show-line-numbers","\n display: flex;\n "),s("line-numbers","\n user-select: none;\n padding-right: 12px;\n text-align: right;\n transition: color .3s var(--n-bezier);\n color: var(--n-line-number-text-color);\n "),r("word-wrap",[l("pre","\n white-space: pre-wrap;\n word-break: break-all;\n ")]),l("pre","\n margin: 0;\n line-height: inherit;\n font-size: inherit;\n font-family: inherit;\n "),l("[class^=hljs]","\n color: var(--n-text-color);\n transition: \n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n ")]),({props:e})=>{const n=`${e.bPrefix}code`;return[`${n} .hljs-comment,\n ${n} .hljs-quote {\n color: var(--n-mono-3);\n font-style: italic;\n }`,`${n} .hljs-doctag,\n ${n} .hljs-keyword,\n ${n} .hljs-formula {\n color: var(--n-hue-3);\n }`,`${n} .hljs-section,\n ${n} .hljs-name,\n ${n} .hljs-selector-tag,\n ${n} .hljs-deletion,\n ${n} .hljs-subst {\n color: var(--n-hue-5);\n }`,`${n} .hljs-literal {\n color: var(--n-hue-1);\n }`,`${n} .hljs-string,\n ${n} .hljs-regexp,\n ${n} .hljs-addition,\n ${n} .hljs-attribute,\n ${n} .hljs-meta-string {\n color: var(--n-hue-4);\n }`,`${n} .hljs-built_in,\n ${n} .hljs-class .hljs-title {\n color: var(--n-hue-6-2);\n }`,`${n} .hljs-attr,\n ${n} .hljs-variable,\n ${n} .hljs-template-variable,\n ${n} .hljs-type,\n ${n} .hljs-selector-class,\n ${n} .hljs-selector-attr,\n ${n} .hljs-selector-pseudo,\n ${n} .hljs-number {\n color: var(--n-hue-6);\n }`,`${n} .hljs-symbol,\n ${n} .hljs-bullet,\n ${n} .hljs-link,\n ${n} .hljs-meta,\n ${n} .hljs-selector-id,\n ${n} .hljs-title {\n color: var(--n-hue-2);\n }`,`${n} .hljs-emphasis {\n font-style: italic;\n }`,`${n} .hljs-strong {\n font-weight: var(--n-font-weight-strong);\n }`,`${n} .hljs-link {\n text-decoration: underline;\n }`]}]),p=i({name:"Code",props:Object.assign(Object.assign({},m.props),{language:String,code:{type:String,default:""},trim:{type:Boolean,default:!0},hljs:Object,uri:Boolean,inline:Boolean,wordWrap:Boolean,showLineNumbers:Boolean,internalFontSize:Number,internalNoHighlight:Boolean}),setup(l,{slots:t}){const{internalNoHighlight:r}=l,{mergedClsPrefixRef:s,inlineThemeDisabled:i}=a(),g=h(null),p=r?{value:void 0}:function(l,t){const r=e(n,null);return o((()=>l.hljs||(null==r?void 0:r.mergedHljsRef.value)))}(l),v=o((()=>!l.inline&&!l.wordWrap&&l.showLineNumbers)),b=()=>{if(t.default)return;const{value:e}=g;if(!e)return;const{language:n}=l,o=l.uri?window.decodeURIComponent(l.code):l.code;if(n){const t=((e,n,o)=>{const{value:l}=p;return l&&e&&l.getLanguage(e)?l.highlight(o?n.trim():n,{language:e}).value:null})(n,o,l.trim);if(null!==t){if(l.inline)e.innerHTML=t;else{const n=e.querySelector(".__code__");n&&e.removeChild(n);const o=document.createElement("pre");o.className="__code__",o.innerHTML=t,e.appendChild(o)}return}}if(l.inline)return void(e.textContent=o);const r=e.querySelector(".__code__");if(r)r.textContent=o;else{const n=document.createElement("pre");n.className="__code__",n.textContent=o,e.innerHTML="",e.appendChild(n)}};u(b),c(d(l,"language"),b),c(d(l,"code"),b),r||c(p,b);const w=m("Code","-code",$,j,l,s),x=o((()=>{const{common:{cubicBezierEaseInOut:e,fontFamilyMono:n},self:{textColor:o,fontSize:t,fontWeightStrong:r,lineNumberTextColor:s,"mono-3":i,"hue-1":a,"hue-2":h,"hue-3":u,"hue-4":c,"hue-5":d,"hue-5-2":m,"hue-6":f,"hue-6-2":g}}=w.value,{internalFontSize:j}=l;return{"--n-font-size":j?`${j}px`:t,"--n-font-family":n,"--n-font-weight-strong":r,"--n-bezier":e,"--n-text-color":o,"--n-mono-3":i,"--n-hue-1":a,"--n-hue-2":h,"--n-hue-3":u,"--n-hue-4":c,"--n-hue-5":d,"--n-hue-5-2":m,"--n-hue-6":f,"--n-hue-6-2":g,"--n-line-number-text-color":s}})),_=i?f("code",o((()=>`${l.internalFontSize||"a"}`)),x,l):void 0;return{mergedClsPrefix:s,codeRef:g,mergedShowLineNumbers:v,lineNumbers:o((()=>{let e=1;const n=[];let o=!1;for(const t of l.code)"\n"===t?(o=!0,n.push(e++)):o=!1;return o||n.push(e++),n.join("\n")})),cssVars:i?void 0:x,themeClass:null==_?void 0:_.themeClass,onRender:null==_?void 0:_.onRender}},render(){var e,n;const{mergedClsPrefix:o,wordWrap:l,mergedShowLineNumbers:t,onRender:r}=this;return null==r||r(),g("code",{class:[`${o}-code`,this.themeClass,l&&`${o}-code--word-wrap`,t&&`${o}-code--show-line-numbers`],style:this.cssVars,ref:"codeRef"},t?g("pre",{class:`${o}-code__line-numbers`},this.lineNumbers):null,null===(n=(e=this.$slots).default)||void 0===n?void 0:n.call(e))}});export{p as _};
