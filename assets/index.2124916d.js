var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,r=(t,n,o)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,s=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&r(e,n,t[n]);if(o)for(var n of o(t))l.call(t,n)&&r(e,n,t[n]);return e},i=(e,o)=>t(e,n(o)),u=(e,t,n)=>new Promise(((o,a)=>{var l=e=>{try{s(n.next(e))}catch(t){a(t)}},r=e=>{try{s(n.throw(e))}catch(t){a(t)}},s=e=>e.done?o(e.value):Promise.resolve(e.value).then(l,r);s((n=n.apply(e,t)).next())}));import{m as c,b as d,X as p,Y as g,Z as f,$ as h,a0 as v,a1 as m,a2 as b,a3 as y,j as C,a4 as x,a5 as S,_,a6 as E,h as T,a7 as w,a8 as L,a9 as k,v as I,aa as M,ab as R,ac as O,ad as B,ae as A,f as $,af as P,w as F,ag as H,ah as D,U as N,ai as j,aj as U}from"./index.5eb97f6e.js";import{u as G}from"./useDesign.2e5b3993.js";import{u as K,_ as W,a as V,b as z,c as X,F as Z}from"./index.7f98165b.js";import{G as Y,V as q,a9 as J,Y as Q,ae as ee,u as te,ao as ne,as as oe,v as ae,cn as le,co as re,bd as se,cp as ie,a2 as ue,w as ce,cq as de,q as pe,y as ge,W as fe,X as he,a7 as ve,a8 as me,b6 as be,ab as ye,cr as Ce,ap as xe,aX as Se,ca as _e,aH as Ee,cs as Te,ct as we,ag as Le,cu as ke,aF as Ie,aq as Me,ba as Re,aA as Oe,bh as Be,cv as Ae,n as $e,cw as Pe,cx as Fe,I as He,c6 as De,ah as Ne,br as je,N as Ue,r as Ge,cy as Ke,cz as We,c3 as Ve,bZ as ze,aD as Xe,t as Ze,R as Ye,af as qe,aC as Je,cA as Qe,cB as et,aB as tt,bs as nt,bV as ot,Z as at,cC as lt,cD as rt,cE as st,ci as it,ar as ut,cF as ct,cG as dt,aW as pt,cH as gt,c2 as ft,cI as ht}from"./vendor.07696a3b.js";import{_ as vt}from"./Icon.6be87540.js";import{C as mt,d as bt}from"./vuedraggable.6f574e51.js";import{u as yt,_ as Ct}from"./ScrollContainer.b994555d.js";import{u as xt,c as St,b as _t}from"./useAppInject.80b595a8.js";import{p as Et}from"./propTypes.eec1be73.js";import{u as Tt}from"./useRootSetting.c150df23.js";import{g as wt,a as Lt}from"./useNaiveInternal.d8826d2e.js";import{u as kt}from"./useBreakpoint.d166da76.js";import It from"./index.e9cc334f.js";import{u as Mt}from"./layoutContentResize.bdf1e512.js";var Rt=c(Y({setup(e){const{prefixCls:t}=G("app-search-footer"),{t:n}=d();return(e,o)=>{const a=vt;return q(),J("div",{class:ee(`${te(t)}`)},[Q(a,{icon:"ant-design:enter-outlined",class:ee(`${te(t)}-item`)},null,8,["class"]),ne("span",null,oe(te(n)("component.app.toSearch")),1),Q(a,{icon:"ion-arrow-up-outline",class:ee(`${te(t)}-item`)},null,8,["class"]),Q(a,{icon:"ion-arrow-down-outline",class:ee(`${te(t)}-item`)},null,8,["class"]),ne("span",null,oe(te(n)("component.app.toNavigate")),1),Q(a,{icon:"mdi-keyboard-esc",class:ee(`${te(t)}-item`)},null,8,["class"]),ne("span",null,oe(te(n)("common.closeText")),1)],2)}}}),[["__scopeId","data-v-6eacca36"]]);const Ot={},Bt=[];Object.keys(Ot).forEach((e=>{const t=Ot[e].default||{},n=Array.isArray(t)?[...t]:[t];Bt.push(...n)}));const At=()=>b().getProjectConfig.permissionMode,$t=()=>At()===f.ROLE,Pt=(e,t)=>e.filter((e=>{var n;return!(t&&(null==(n=e.meta)?void 0:n.hideMenu)||e.hideMenu)})).map((e=>(e.children&&(e.children=Pt(e.children,t)),e))),Ft=[];function Ht(){return u(this,null,(function*(){const e=y();return At()===f.BACK?Pt(e.getBackMenuList,!0):At()===f.ROUTE_MAPPING?Pt(e.getFrontMenuList):Ft}))}(()=>{Bt.sort(((e,t)=>(e.orderNo||0)-(t.orderNo||0)));for(const e of Bt)Ft.push(p(e))})();const Dt=()=>u(this,null,(function*(){const e=yield Ht();if($t()){const t=h.getRoutes();return m(e,Gt(t))}return e}));function Nt(e){return u(this,null,(function*(){const t=yield Ht(),n=g(t,e);return null==n?void 0:n[0]}))}function jt(){return u(this,null,(function*(){const e=(yield Ht()).map((e=>i(s({},e),{children:void 0})));if($t()){const t=h.getRoutes();return e.filter(Gt(t))}return e}))}function Ut(e){return u(this,null,(function*(){var t;const n=(yield Dt()).find((t=>t.path===e));if(!n||!n.children||(null==(t=null==n?void 0:n.meta)?void 0:t.hideChildrenInMenu))return[];if($t()){const e=h.getRoutes();return m(n.children,Gt(e))}return n.children}))}function Gt(e){return t=>!!e.find((e=>{var n,o;if(v(t.path))return!0;if(null==(n=e.meta)?void 0:n.carryParam)return re(e.path).test(t.path);const a=e.path===t.path;return!!a&&(!!(null==(o=e.meta)?void 0:o.ignoreAuth)||(a||re(e.path).test(t.path)))}))}function Kt(e,t,n){const o=ae([]),a=ae(""),l=ae(-1);let r=[];const{t:s}=d(),i=C(),c=se((function(e){const t=e;if(a.value=t.trim(),!t)return void(o.value=[]);const n=function(e){const t=["",...[...e].map((e=>{return["$","(",")","*","+",".","[","]","?","\\","^","{","}","|"].includes(t=e)?`\\${t}`:t;var t})),""].join(".*");return new RegExp(t)}(te(a)),s=m(r,(e=>n.test(e.name)&&!e.hideMenu));o.value=p(s,n),l.value=0}),200);function p(e,t,n){const o=[];return e.forEach((e=>{const{name:a,path:l,icon:r,children:s,hideMenu:i,meta:u}=e;i||!t.test(a)||(null==s?void 0:s.length)&&!(null==u?void 0:u.hideChildrenInMenu)||o.push({name:(null==n?void 0:n.name)?`${n.name} > ${a}`:a,path:l,icon:r}),!(null==u?void 0:u.hideChildrenInMenu)&&Array.isArray(s)&&s.length&&o.push(...p(s,t,e))})),o}function g(){const n=te(e);if(!n||!Array.isArray(n)||0===n.length||!te(t))return;const o=n[te(l)];if(!o)return;const a=te(t);if(!a)return;const r=o.offsetTop+o.offsetHeight,s=a.offsetHeight,{start:i}=yt({el:a,duration:100,to:r-s});i()}function f(){return u(this,null,(function*(){if(!o.value.length)return;const e=te(o),t=te(l);if(0===e.length||t<0)return;const n=e[t];h(),yield ce(),i(n.path)}))}function h(){o.value=[],n("close")}return ie((()=>u(this,null,(function*(){const e=yield Dt();r=ue(e),x(r,(e=>{e.name=s(e.label)}))})))),de("Enter",f),de("ArrowUp",(function(){o.value.length&&(l.value--,l.value<0&&(l.value=o.value.length-1),g())})),de("ArrowDown",(function(){o.value.length&&(l.value++,l.value>o.value.length-1&&(l.value=0),g())})),de("Escape",h),{handleSearch:c,searchResult:o,keyword:a,activeIndex:l,handleMouseenter:function(e){const t=e.target.dataset.index;l.value=Number(t)},handleEnter:f}}const Wt=["data-index"];var Vt=c(Y({props:{visible:{type:Boolean}},emits:["close"],setup(e,{emit:t}){const n=e,o=ae(null),a=ae(null),{t:l}=d(),{prefixCls:r}=G("app-search-modal"),[s,i]=function(){const e=ae([]);return le((()=>{e.value=[]})),[e,t=>n=>{e.value[t]=n}]}(),{getIsMobile:u}=xt(),{handleSearch:c,searchResult:p,keyword:g,activeIndex:f,handleEnter:h,handleMouseenter:v}=Kt(s,o,t),m=pe((()=>!g||0===te(p).length)),b=pe((()=>[r,{[`${r}--mobile`]:te(u)}]));function y(){p.value=[],t("close")}return ge((()=>n.visible),(e=>{e&&ce((()=>{var e;null==(e=te(a))||e.focus()}))})),(t,n)=>{const s=Ee;return q(),fe(_e,{to:"body"},[Q(Se,{name:"zoom-fade",mode:"out-in"},{default:he((()=>[e.visible?(q(),J("div",{key:0,class:ee(te(b)),onClick:n[2]||(n[2]=Ce((()=>{}),["stop"]))},[ve((q(),J("div",{class:ee(`${te(r)}-content`)},[ne("div",{class:ee(`${te(r)}-input__wrapper`)},[Q(s,{class:ee(`${te(r)}-input`),placeholder:te(l)("common.searchText"),ref_key:"inputRef",ref:a,"allow-clear":"",onInput:te(c)},{prefix:he((()=>[Q(te(vt),{icon:"ant-design:search-outlined"})])),_:1},8,["class","placeholder","onInput"]),ne("span",{class:ee(`${te(r)}-cancel`),onClick:y},oe(te(l)("common.cancelText")),3)],2),ve(ne("div",{class:ee(`${te(r)}-not-data`)},oe(te(l)("component.app.searchNotData")),3),[[me,te(m)]]),ve(ne("ul",{class:ee(`${te(r)}-list`),ref_key:"scrollWrap",ref:o},[(q(!0),J(be,null,ye(te(p),((e,t)=>(q(),J("li",{ref_for:!0,ref:te(i)(t),key:e.path,"data-index":t,onMouseenter:n[0]||(n[0]=(...e)=>te(v)&&te(v)(...e)),onClick:n[1]||(n[1]=(...e)=>te(h)&&te(h)(...e)),class:ee([`${te(r)}-list__item`,{[`${te(r)}-list__item--active`]:te(f)===t}])},[ne("div",{class:ee(`${te(r)}-list__item-icon`)},[Q(te(vt),{icon:"mdi:form-select",class:"text-20px"})],2),ne("div",{class:ee(`${te(r)}-list__item-text`)},oe(e.name),3),ne("div",{class:ee(`${te(r)}-list__item-enter`)},[Q(te(vt),{icon:"ant-design:enter-outlined",class:"text-20px"})],2)],42,Wt)))),128))],2),[[me,!te(m)]]),Q(Rt)],2)),[[te(mt),y]])],2)):xe("",!0)])),_:1})])}}}),[["__scopeId","data-v-5b6e06da"]]),zt=Y({name:"AppSearch",setup(){const e=ae(!1);function t(t){e.value=t}const n=Te(),o=n["Command+K"],a=n["Ctrl+K"];return ge(o,(t=>{t&&(e.value=!0)})),ge(a,(t=>{t&&(e.value=!0)})),()=>Q("div",{onClick:t.bind(null,!0)},[Q(vt,{icon:"akar-icons:search",class:"text-18px"},null),Q(Vt,{onClose:t.bind(null,!1),visible:te(e)},null)])}});function Xt(e,t){t=t||{};const{size:n="small",delay:o=100,timeout:a=3e4,loading:l=!1,loadingComponent:r,retry:s=!0}=t;return we({loader:e,loadingComponent:l?Q(Le,{size:n,style:"margin:1rem;"},null):r,timeout:a,delay:o,onError:s?(e,t,n,o)=>{e.message.match(/fetch/)&&o<=3?t():n()}:S})}var Zt=c(Y({name:"FullScreen",setup(){const{t:e}=d(),{toggle:t,isFullscreen:n}=ke();return{getTitle:pe((()=>te(n)?e("layout.header.tooltipExitFull"):e("layout.header.tooltipEntryFull"))),isFullscreen:n,toggle:t}}}),[["render",function(e,t,n,o,a,l){const r=vt,s=Me;return q(),fe(s,{trigger:"hover",placement:"bottom",delay:300},{trigger:he((()=>[ne("span",{class:"app-layout-header-anction-icon",onClick:t[0]||(t[0]=(...t)=>e.toggle&&e.toggle(...t))},[e.isFullscreen?(q(),fe(r,{key:0,icon:"ant-design:fullscreen-exit-outlined",viewBox:"64 64 896 896"})):(q(),fe(r,{key:1,icon:"ant-design:fullscreen-outlined",viewBox:"64 64 896 896"}))])])),default:he((()=>[Ie(" "+oe(e.getTitle),1)])),_:1})}]]);const Yt=Xt((()=>_((()=>import("./UserDropdown.31923384.js")),["assets/UserDropdown.31923384.js","assets/index.5eb97f6e.js","assets/index.4329796e.css","assets/vendor.07696a3b.js","assets/header.29a6c180.js","assets/Icon.6be87540.js","assets/Icon.6bbbc99d.css","assets/propTypes.eec1be73.js","assets/useDesign.2e5b3993.js"])),{loadingComponent:Q("div",{class:"flex items-center space-x-2"},[Q(Re,{height:"24px",circle:!0},null),Q(Re,{text:!0,round:!0,class:"w-60px h-12px"},null)])}),qt=Xt((()=>_((()=>import("./Breadcrumb.a2597ba3.js")),["assets/Breadcrumb.a2597ba3.js","assets/Icon.6be87540.js","assets/Icon.6bbbc99d.css","assets/index.5eb97f6e.js","assets/index.4329796e.css","assets/vendor.07696a3b.js","assets/propTypes.eec1be73.js","assets/useDesign.2e5b3993.js","assets/useRootSetting.c150df23.js"]))),Jt=Xt((()=>_((()=>import("./index.5c10e090.js")),["assets/index.5c10e090.js","assets/Icon.6be87540.js","assets/Icon.6bbbc99d.css","assets/index.5eb97f6e.js","assets/index.4329796e.css","assets/vendor.07696a3b.js","assets/propTypes.eec1be73.js","assets/useDesign.2e5b3993.js"])));const Qt=Y({props:{collapsed:Et.bool.def(!1),onClick:{type:Function}},setup(e){const{siderToggleBarColor:t,siderToggleBarColorHover:n}=wt("Layout"),{siderToggleBarColor:o,siderToggleBarColorHover:a}=wt("Layout",!0),{getIsDarkMode:l}=Tt(),r=pe((()=>{const e=l.value;return{color:e?o:t,hoverColor:e?a:n}}));Oe((()=>({"toggle-bar-color":r.value.color,"toggle-bar-color-hover":r.value.hoverColor})));const{prefixCls:s}=G("layout-toggle-bar");return(t,n)=>(q(),J("div",{class:ee([te(s),{collapsed:e.collapsed}]),onClick:n[0]||(n[0]=(...t)=>e.onClick&&e.onClick(...t))},[ne("div",{class:ee(`${te(s)}__top`)},null,2),ne("div",{class:ee(`${te(s)}__bottom`)},null,2)],2))}});const en=[ne("i",{class:"icon"},[ne("svg",{viewBox:"0 0 16 16",fill:"none",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg"},[ne("path",{d:"M5.64645 3.14645C5.45118 3.34171 5.45118 3.65829 5.64645 3.85355L9.79289 8L5.64645 12.1464C5.45118 12.3417 5.45118 12.6583 5.64645 12.8536C5.84171 13.0488 6.15829 13.0488 6.35355 12.8536L10.8536 8.35355C11.0488 8.15829 11.0488 7.84171 10.8536 7.64645L6.35355 3.14645C6.15829 2.95118 5.84171 2.95118 5.64645 3.14645Z",fill:"currentColor"})])],-1)],tn=Y({props:{collapsed:Et.bool.def(!1),onClick:{type:Function}},setup(e){const{siderToggleButtonColor:t,siderToggleButtonIconColor:n,siderToggleButtonBorder:o}=wt("Layout"),{siderToggleBarColor:a,siderToggleButtonIconColor:l,siderToggleButtonBorder:r}=wt("Layout",!0),{getIsDarkMode:s}=Tt(),i=pe((()=>{const e=s.value;return{bgColor:e?a:t,iconColor:e?l:n,border:e?r:o}}));Oe((()=>{const e=i.value;return{"toggle-button-color":e.bgColor,"toggle-button-icon-color":e.iconColor,"toggle-button-border":e.border}}));const{prefixCls:u}=G("layout-toggle-button");return(t,n)=>(q(),J("div",{class:ee([te(u),{collapsed:e.collapsed}]),onClick:n[0]||(n[0]=(...t)=>e.onClick&&e.onClick(...t))},en,2))}}),nn=Y({props:{collapsed:Et.bool.def(!1),onClick:{type:Function}},setup:e=>(t,n)=>{const o=vt;return q(),J("span",{class:"app-layout-header-anction-icon",onClick:n[0]||(n[0]=(...t)=>e.onClick&&e.onClick(...t))},[e.collapsed?(q(),fe(o,{key:0,icon:"ant-design:menu-unfold-outlined",viewBox:"64 64 896 896"})):(q(),fe(o,{key:1,icon:"ant-design:menu-fold-outlined",viewBox:"64 64 896 896"}))])}});const on=Y({props:{collapsed:Et.bool.def(!1),onClick:{type:Function}},setup(e){const{siderToggleButtonColor:t,siderToggleButtonIconColor:n,siderToggleButtonBorder:o}=wt("Layout"),{siderToggleBarColor:a,siderToggleButtonIconColor:l,siderToggleButtonBorder:r}=wt("Layout",!0),{getIsDarkMode:s}=Tt(),i=pe((()=>{const e=s.value;return{bgColor:e?a:t,iconColor:e?l:n,border:e?r:o}}));Oe((()=>{const e=i.value;return{"toggle-button-color":e.bgColor,"toggle-button-icon-color":e.iconColor,"toggle-button-border":e.border}}));const{prefixCls:u}=G("layout-toggle-bottom");return(t,n)=>{const o=vt;return q(),J("div",{class:ee([te(u),{collapsed:e.collapsed}]),onClick:n[0]||(n[0]=(...t)=>e.onClick&&e.onClick(...t))},[e.collapsed?(q(),fe(o,{key:0,icon:"ant-design:double-right-outlined"})):(q(),fe(o,{key:1,icon:"ant-design:double-left-outlined"}))],2)}}}),an=Y(i(s({},{name:"Trigger"}),{props:{type:{default:E.BUTTON},onClick:null},setup(e){const t=e,n=new Map;n.set(E.BAR,Qt),n.set(E.BUTTON,tn),n.set(E.HEADER,nn),n.set(E.BOTTOM,on);const{toggleCollapsed:o}=T(),a=()=>{(null==t?void 0:t.onClick)&&Ae(t.onClick)?t.onClick():o()};return(t,o)=>e.type?(q(),fe(Be(te(n).get(e.type)),{key:0,onClick:a})):xe("",!0)}}));var ln=c(Y({name:"LayoutMenu",props:{inverted:Et.bool,parentPath:Et.string,noCollapsed:Et.bool,globalSplit:{type:Boolean,default:void 0},splitType:{type:Number,default:w.NONE},menuMode:{type:[String],default:""}},setup(e){const{splitType:t,parentPath:n,globalSplit:o}=He(e),{menusRef:a}=function(e,t,n){const o=ae(),{currentRoute:a}=$e(),{getIsMobile:l}=xt(),r=y(),{setMenuSetting:s,getIsHorizontal:i,getSplit:c}=T(),d=Fe((function(e){return u(this,null,(function*(){if(te(g)||te(l))return;const t=yield Ut(e);if(!t||!t.length)return s({hidden:!0}),void(o.value=[]);s({hidden:!1}),o.value=t}))}),50),p=pe((()=>te(e)!==w.SECONDARY&&!te(i))),g=pe((()=>{let t=te(c);const o=te(n);return Pe(o)&&(t=o),!t||te(e)!==w.SECONDARY})),f=pe((()=>te(e)===w.ROOT)),h=pe((()=>te(e)===w.NONE||!te(c)));function v(){return u(this,null,(function*(){if(te(h)||te(l))o.value=yield Dt();else if(te(f)){const e=yield jt();o.value=e}}))}return ge([()=>te(a).path,()=>te(t),()=>te(e)],(e=>u(this,[e],(function*([e,t]){if(te(p)||te(l))return;const{meta:n}=te(a),o=n.currentActiveMenu;let r;t?r=t:(r=yield Nt(e),r||(r=yield Nt(o))),r&&d(r)}))),{immediate:!0}),ge([()=>r.getLastBuildMenuTime,()=>r.getBackMenuList],(()=>{v()}),{immediate:!0}),ge((()=>c.value),(()=>{te(p)||v()})),{menusRef:o}}(t,n,o),{getMenuMode:l,getMenuIndent:r,getMenuRootIndent:s,getCollapsed:i,getAccordion:c}=T(),{currentRoute:p}=$e(),f=C(),{t:h}=d(),v=ae([]),m=ae(),{getIsMobile:b}=xt(),x=pe((()=>te(b)?L.VERTICAL:e.menuMode||te(l))),S=pe((()=>t.value===w.ROOT));ge([p,a],(e=>u(this,[e],(function*([e,t]){const{name:n,path:o}=e;if(n!==k&&(m.value=o,c.value&&t&&t.length>0)){const e=g(t,o);if(S.value){const e=yield Nt(o);m.value=e}else e.length>=2&&e.pop(),v.value=e}}))),{immediate:!0});return{getRealCollapsed:pe((()=>!e.noCollapsed&&!S.value&&i.value)),getInverted:De(e,"inverted"),menuValue:m,menusRef:a,expandedKeys:v,handleUpdateExpandedKeys:e=>{v.value=e},handleUpdateValue:e=>{f(e)},renderIcon:({meta:e})=>{const t=null==e?void 0:e.icon;return t?Ne(vt,{icon:t}):null},renderLabel:e=>{var t;return h(null!=(t=e.label)?t:"")},getRealMenuMode:x,getMenuIndent:r,getMenuRootIndent:s}}}),[["render",function(e,t,n,o,a,l){const r=je;return q(),fe(r,{value:e.menuValue,"onUpdate:value":[t[0]||(t[0]=t=>e.menuValue=t),e.handleUpdateValue],mode:e.getRealMenuMode,"key-field":"path",collapsed:e.getRealCollapsed,inverted:e.getInverted,indent:e.getMenuIndent,"root-indent":e.getMenuRootIndent,options:e.menusRef,"expanded-keys":e.expandedKeys,"render-icon":e.renderIcon,"render-label":e.renderLabel,"onUpdate:expandedKeys":e.handleUpdateExpandedKeys},null,8,["value","mode","collapsed","inverted","indent","root-indent","options","expanded-keys","render-icon","render-label","onUpdate:expandedKeys","onUpdate:value"])}]]);function rn(){const e=I(),{getMenuMode:t,getSplit:n,getShowHeaderTrigger:o,getIsSidebarType:a,getIsMixSidebar:l}=T(),{getShowBreadCrumb:r,getShowLogo:s}=Tt(),i=pe((()=>e.getHeaderSetting.show)),u=pe((()=>e.getHeaderSetting.height)),c=pe((()=>te(t)!==L.HORIZONTAL&&te(r)&&!te(n))),d=pe((()=>te(s)&&!te(a)&&!te(l))),p=pe((()=>te(c)||te(o)));return{setHeaderSetting:function(t){e.setProjectConfig({headerSetting:t})},getShowBread:c,getShowContent:p,getShowHeaderLogo:d,getShowHeader:i,getHeaderHeight:u}}const sn={class:"smart__icon"},un={class:"icon"};var cn=c(Y({props:{isActive:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const{prefixCls:n}=G("multiple-tabs");function o(e){e.stopPropagation(),t("close")}return(t,a)=>{const l=vt;return q(),J("div",{class:ee([[te(n),e.isActive?`${te(n)}__active text-light-100`:""],"dark:text-light-100"])},[ne("span",{class:ee(`${te(n)}__smart__slot`)},[Ue(t.$slots,"default",{},void 0,!0)],2),ne("div",sn,[ne("div",un,[Q(l,{icon:"ei:close",onClick:o})])])],2)}}}),[["__scopeId","data-v-d29b4e42"]]);var dn=c(Y({props:{closable:{type:Boolean},isActive:{type:Boolean,defualt:!1}},emits:["close"],setup(e,{emit:t}){const{prefixCls:n}=G("multiple-tabs__button");function o(e){e.stopPropagation(),t("close")}return(t,a)=>{const l=vt;return q(),J("div",{class:ee([[te(n),e.isActive?"active":""],"mr-10px"])},[ne("span",{class:ee(`${te(n)}-tab__preffix`)},[Ue(t.$slots,"default",{},void 0,!0)],2),e.closable?(q(),J("div",{key:0,class:ee(`${te(n)}-tab__icon pl-5px`)},[Q(l,{icon:"ei:close",onClick:o})],2)):xe("",!0)],2)}}}),[["__scopeId","data-v-37587b10"]]);function pn(){const e=I();return{setMultipleTabSetting:function(t){e.setProjectConfig({multiTabsSetting:t})},getShowMultipleTab:pe((()=>e.getMultiTabsSetting.show)),getTabsStyle:pe((()=>e.getMultiTabsSetting.tabs))}}var gn=(e=>(e[e.REFRESH_PAGE=0]="REFRESH_PAGE",e[e.TOGGLE_FULL_SCREEN=1]="TOGGLE_FULL_SCREEN",e[e.CLOSE_CURRENT=2]="CLOSE_CURRENT",e[e.CLOSE_LEFT=3]="CLOSE_LEFT",e[e.CLOSE_RIGHT=4]="CLOSE_RIGHT",e[e.CLOSE_OTHER=5]="CLOSE_OTHER",e[e.CLOSE_ALL=6]="CLOSE_ALL",e[e.SCALE=7]="SCALE",e))(gn||{});function fn(e,t){const n=Ge({current:null,currentIndex:0}),{t:o}=d(),a=M(),{currentRoute:l}=$e(),{refreshPage:r,closeAll:s,close:i,closeLeft:u,closeOther:c,closeRight:p}=R(),g=pe((()=>te(t)?e.tabItem:te(l))),{getShowMenu:f,setMenuSetting:h}=T(),{getShowHeader:v,setHeaderSetting:m}=rn(),b=Ke(We(f),We(v));return{getDropMenuList:pe((()=>{if(!te(g))return;const{meta:e}=te(g),{path:t}=te(l),r=n.current,s=!!r&&r.path===t,i=n.currentIndex,u=!s,c=0===i||!s,d=1===a.getTabList.length,p=!s||i===a.getTabList.length-1&&a.getLastDragEndIndex>=0;return[{key:gn.TOGGLE_FULL_SCREEN,label:o("layout.multipleTab.toggleFullScreen"),icon:()=>b.value?Q(vt,{icon:"radix-icons:exit-full-screen"},null):Q(vt,{icon:"radix-icons:enter-full-screen"},null)},{icon:()=>Q(vt,{icon:"codicon:refresh"},null),key:gn.REFRESH_PAGE,label:o("layout.multipleTab.reload"),disabled:u},{icon:()=>Q(vt,{icon:"clarity:close-line"},null),key:gn.CLOSE_CURRENT,label:o("layout.multipleTab.close"),disabled:!!(null==e?void 0:e.affix)||d},{type:"divider",key:"d2"},{key:gn.CLOSE_LEFT,label:o("layout.multipleTab.closeLeft"),disabled:c,icon:()=>Q(vt,{icon:"line-md:arrow-close-left"},null)},{key:gn.CLOSE_RIGHT,label:o("layout.multipleTab.closeRight"),disabled:p,icon:()=>Q(vt,{icon:"line-md:arrow-close-right"},null)},{type:"divider",key:"d3"},{key:gn.CLOSE_OTHER,label:o("layout.multipleTab.closeOther"),disabled:d||!s,icon:()=>Q(vt,{icon:"dashicons-align-center"},null)},{key:gn.CLOSE_ALL,label:o("layout.multipleTab.closeAll"),disabled:d,icon:()=>Q(vt,{icon:"clarity-minus-line"},null)}]})),handleMenuEvent:function(t){switch(t){case gn.REFRESH_PAGE:r();break;case gn.TOGGLE_FULL_SCREEN:!function(){const e=b.value;h({show:e,hidden:!e}),m({show:e})}();break;case gn.CLOSE_CURRENT:i(e.tabItem);break;case gn.CLOSE_LEFT:u();break;case gn.CLOSE_RIGHT:p();break;case gn.CLOSE_OTHER:c();break;case gn.CLOSE_ALL:s()}},handleContextMenu:function(e){return t=>{if(!e)return;null==t||t.preventDefault();const o=a.getTabList.findIndex((t=>t.path===e.path));n.current=e,n.currentIndex=o}}}}var hn=Y({name:"TabContent",props:{tabItem:{type:Object,default:null},isExtra:Boolean},setup(e){const{prefixCls:t}=G("multiple-tabs-content"),{t:n}=d(),o=Ge({x:0,y:0}),a=Ve(!1),l=pe((()=>{const{tabItem:{meta:t}={}}=e;return t&&n(t.title)})),r=pe((()=>{const{tabItem:{meta:t}={}}=e;return null==t?void 0:t.icon})),s=pe((()=>!e.isExtra)),i=pe((()=>te(s)?o.x:void 0)),c=pe((()=>te(s)?o.y:void 0)),p=pe((()=>te(s)?te(a):void 0)),g=pe((()=>te(s)?x:void 0)),f=pe((()=>te(s)?"manual":"click")),h=pe((()=>te(s)?"bottom-start":"bottom-end")),{getDropMenuList:v,handleMenuEvent:m,handleContextMenu:b}=fn(e,s);function y(t){return u(this,null,(function*(){e.tabItem&&(t.preventDefault(),a.value=!1,yield ce(),o.x=t.clientX,o.y=t.clientY,a.value=!0,b(e.tabItem)(t))}))}function C(t){e.tabItem&&b(e.tabItem)(t)}function x(){a.value=!1}function S(e){m(e),x()}return()=>{const{wrapperClass:e,iconClass:n}={wrapperClass:"flex-1 border-l border-$app-border-color transition-border duration-300 ease-in-out group flex justify-center items-center text-$app-text-color",iconClass:"opacity-60 group-hover:opacity-100 text-18px"};return Q(be,null,[te(s)&&Q("div",{class:"tabContent",onContextmenu:y},[te(r)&&Q(vt,{icon:r.value,class:"inline-block align-text-bottom mr-4px text-16px"},null),Q("span",null,[te(l)])]),Q(ze,{x:te(i),y:te(c),show:te(p),onSelect:S,onClickoutside:te(g),options:te(v),trigger:te(f),placement:te(h)},{default:()=>[!te(s)&&Q("span",{class:[`${t}__extra-quick`,te(e)],onClick:C},[Q(vt,{icon:"fluent-options-48-regular",class:`${n}`},null)])]})])}}});const vn=Y({name:"MultipleTabs",components:{TabContent:hn,TabRedo:Y({setup(e){const t=ae(!1),{prefixCls:n}=G("multiple-tabs-content"),{refreshPage:o}=R(),{wrapperClass:a,iconClass:l}={wrapperClass:"flex-1 border-l border-$app-border-color transition-border duration-300 ease-in-out group flex justify-center items-center text-$app-text-color",iconClass:"opacity-60 group-hover:opacity-100 text-18px"};function r(){return u(this,null,(function*(){t.value=!0,yield o(),setTimeout((()=>{t.value=!1}),1200)}))}return(e,o)=>{const s=vt;return q(),J("span",{class:ee([`${te(n)}__extra-redo`,te(a)]),onClick:r},[Q(s,{icon:"codicon-refresh",class:ee([te(l),t.value?"animate-spin animate-ease-[cubic-bezier(0.37,0.35,0.35,0.97)] animate-duration-1200":""])},null,8,["class"])],2)}}}),FoldButton:Y({setup(e){const{prefixCls:t}=G("multiple-tabs-content"),{getShowMenu:n,setMenuSetting:o}=T(),{getShowHeader:a,setHeaderSetting:l}=rn(),r=Ke(We(n),We(a));function s(){const e=r.value;o({show:e,hidden:!e}),l({show:e})}const{wrapperClass:i,iconClass:u}={wrapperClass:"flex-1 border-l border-$app-border-color transition-border duration-300 ease-in-out group flex justify-center items-center text-$app-text-color",iconClass:"opacity-60 group-hover:opacity-100 text-18px"};return(e,n)=>{const o=vt;return q(),J("span",{class:ee([`${te(t)}__extra-fold`,te(i)]),onClick:s},[te(r)?(q(),fe(o,{key:0,icon:"radix-icons:exit-full-screen",class:ee(te(u))},null,8,["class"])):(q(),fe(o,{key:1,icon:"radix-icons:enter-full-screen",class:ee(te(u))},null,8,["class"]))],2)}}}),Draggable:bt},setup(){const e=M(),{getTabsStyle:t}=pn(),{prefixCls:n}=G("multiple-tabs"),o=$e(),a=ae(),l=ae(),r=C();e.asyncTabs();const s=O(),i=pe((()=>e.getTabList.filter((e=>{var t;return!(null==(t=e.meta)?void 0:t.hideTab)})))),u=pe((()=>"button"===t.value)),c=pe((()=>u.value?dn:cn)),d=pe((()=>({"--app-tabs-bg-color":Lt("Tabs","tabColor").value})));B((t=>{const{name:n}=t;if(n===k||!t)return;const{path:a,fullPath:r,meta:s={}}=t,{currentActiveMenu:i,hideTab:u}=s,c=u?i:null,d=c||r||a;if(l.value!==d&&(l.value=d),c){const t=o.getRoutes().find((e=>e.path===i));t&&e.addTab(t)}else e.addTab(te(t))}));ge((()=>l.value),(e=>{ce((()=>{var t;if(!e)return;const n=null==(t=Je(a))?void 0:t.querySelector(`[data-name="${e}"]`);n&&setTimeout((()=>{n.scrollIntoView({behavior:"smooth",inline:"start"})}),600)}))}),{immediate:!0});return Xe(window,"beforeunload",(()=>{s.set(A,te(i))})),{tabsElRef:a,prefixCls:n,activeKeyRef:l,activeComponent:c,panels:i,handleTabChange:e=>{l.value=e,r(e,!1)},handleClose:t=>{e.closeTabByKey(t,o)},getWrapperStyle:d,draggableEnd:function(){const t=Ze(te(i));e.setTabs(t)}}}}),mn={class:"text-[#333639] dark:bg-[#18181c] dark:text-opacity-82 transition-all duration-300 ease-in-out flex items-center w-full"},bn={class:"flex-1 overflow-hidden h-full"},yn=ne("div",{class:"pr-16px"},null,-1),Cn={class:"flex h-full"};var xn=c(vn,[["render",function(e,t,n,o,a,l){const r=Ye("TabContent"),s=Ye("Draggable"),i=Ct,u=Ye("TabRedo"),c=Ye("FoldButton");return q(),J("div",{class:ee(e.prefixCls),style:qe(e.getWrapperStyle)},[ne("div",mn,[ne("div",bn,[ne("div",{ref:"tabsElRef",class:ee(["h-full flex items-center",`${e.prefixCls}__content`])},[yn,Q(i,{isTabs:!0},{default:he((()=>[Q(s,{list:e.panels,animation:"300","item-key":"key",class:"flex",onEnd:e.draggableEnd},{item:he((({element:t})=>{var n;return[(q(),fe(Be(e.activeComponent),{isTabs:!0,key:t.path,"is-active":e.activeKeyRef===t.path,closable:!(null==(n=null==t?void 0:t.meta)?void 0:n.affix),"data-name":t.path,onClick:n=>e.handleTabChange(t.path),onClose:n=>e.handleClose(t.path)},{default:he((()=>[Q(r,{"tab-item":t},null,8,["tab-item"])])),_:2},1032,["is-active","closable","data-name","onClick","onClose"]))]})),_:1},8,["list","onEnd"])])),_:1})],2)]),ne("div",Cn,[Q(u),Q(r,{"is-extra":"","tab-item":e.$route},null,8,["tab-item"]),Q(c)])])],6)}]]);const Sn=Y({name:"LayoutHeader",components:{Trigger:an,LayoutBreadcrumb:qt,LayoutMenu:ln,FullScreen:Zt,Notify:Jt,UserDropDown:Yt,SettingDrawer:Xt((()=>_((()=>import("./index.f3d9b226.js").then((function(e){return e.i}))),["assets/index.f3d9b226.js","assets/Icon.6be87540.js","assets/Icon.6bbbc99d.css","assets/index.5eb97f6e.js","assets/index.4329796e.css","assets/vendor.07696a3b.js","assets/propTypes.eec1be73.js","assets/useDesign.2e5b3993.js","assets/useRootSetting.c150df23.js"])),{loading:!0,size:16}),MTabs:xn},props:{fixed:Et.bool},setup(){const{prefixCls:e}=G("layout-header"),{getIsMobile:t}=xt(),{smaller:n,sizeEnum:o}=kt(),a=n(o.XXS),{getSplit:l,getCollapsed:r,getMenuInverted:s,getShowTopMenu:i,getIsSidebarType:u,getIsMixSidebar:c,getIsTopMenu:d,getTrigger:p}=T(),{getShowBread:g,getShowContent:f,getShowHeader:h}=rn(),v=pe((()=>p.value===E.HEADER&&!d.value&&f.value&&!l.value)),{getShowLocalePicker:m}=K(),b=pe((()=>!(te(u)||te(c)))),y=pe((()=>l.value?w.ROOT:w.NONE)),C=pe((()=>L.HORIZONTAL)),x=pe((()=>s.value&&(l.value||d.value)));return{getShowHeader:h,getIsMobile:t,getShowLocalePicker:m,prefixCls:e,getShowBread:g,getShowContent:f,getShowLogo:b,getCollapsed:r,getShowTopMenu:i,getShowTrigger:v,TriggerEnum:E,getSplitType:y,getMenuMode:C,getInverted:x,getIs2xs:a}}}),_n={class:"flex justify-between items-center h-full text-1.2em"},En={class:"flex justify-between items-center h-full"},Tn={key:0,class:"flex items-center h-full"},wn={key:0,class:"flex justify-between items-center flex-1 min-w-0 px-2 relative h-full",ref:"scrollEl"},Ln={class:"flex items-center h-full"};var kn=c(Sn,[["render",function(e,t,n,o,a,l){const r=W,s=Ye("Trigger"),i=Ye("LayoutBreadcrumb"),u=Ye("LayoutMenu"),c=Ct,d=zt,p=Ye("Notify"),g=V,f=Ye("FullScreen"),h=z,v=Ye("UserDropDown"),m=Ye("SettingDrawer"),b=Ye("MTabs"),y=Qe;return q(),fe(y,{class:ee([[e.prefixCls,{inverted:e.getInverted}],"w-full overflow-hidden"]),inverted:e.getInverted},{default:he((()=>[e.getShowHeader?(q(),J("div",{key:0,class:ee(`${e.prefixCls}_header`)},[ne("div",_n,[ne("div",En,[e.getShowLogo?(q(),J("div",Tn,[Q(r,{collapsed:e.getCollapsed,"collapsed-show-title":"","title-color":e.getInverted?"white":void 0},null,8,["collapsed","title-color"])])):xe("",!0),e.getShowTrigger||e.getIsMobile?(q(),fe(s,{key:1,type:e.TriggerEnum.HEADER,collapsed:e.getCollapsed},null,8,["type","collapsed"])):xe("",!0),e.getShowContent&&e.getShowBread&&!e.getIsMobile?(q(),fe(i,{key:2,class:"ml-3"})):xe("",!0)]),e.getShowTopMenu&&!e.getIsMobile?(q(),J("div",wn,[Q(c,{"x-scrollable":"",inverted:e.getInverted,class:"absolute left-0 top-2px"},{default:he((()=>[Q(u,{"menu-mode":e.getMenuMode,"split-type":e.getSplitType,inverted:e.getInverted},null,8,["menu-mode","split-type","inverted"])])),_:1},8,["inverted"])],512)):xe("",!0),ne("div",Ln,[Q(d,{class:"app-layout-header-anction-icon"}),e.getIs2xs?xe("",!0):(q(),fe(p,{key:0})),e.getShowLocalePicker?(q(),fe(g,{key:1,"trigger-cls":"app-layout-header-anction-icon"})):xe("",!0),e.getIs2xs?xe("",!0):(q(),fe(f,{key:2})),Q(h,{class:"app-layout-header-anction-icon"}),e.getIs2xs?xe("",!0):(q(),fe(v,{key:3})),Q(m)])])],2)):xe("",!0),Q(b)])),_:1},8,["class","inverted"])}]]);const In={key:0},Mn=Y({props:{inverted:{type:Boolean,default:void 0},trigger:{type:Boolean,default:!0},width:null},setup(e){const t=e,{prefixCls:n}=G("layout-sideBar"),{getIsDarkMode:o}=Tt(),{getMenuInverted:a,getTrigger:l,getCollapsed:r,getSplit:s}=T(),{getIsMobile:i}=xt(),u=pe((()=>t.trigger&&(l.value!==E.HEADER&&!te(i)||te(s)))),c=ae(null),{height:d}=et(c),p=pe((()=>({maxHeight:`${d.value}px`}))),g=pe((()=>Pe(t.inverted)?t.inverted:a.value)),{siderColor:f,siderColorInverted:h,siderBorderColor:v,siderBorderColorInverted:m}=wt("Layout"),{siderColor:b,siderBorderColor:y}=wt("Layout",!0),C=pe((()=>te(o)?b:te(g)?h:f)),x=pe((()=>te(o)?y:te(g)?m:v));Oe((()=>({"mix-sider-bg-color":te(C),"mix-sider-border-color":te(x)})));const S=pe((()=>({width:X.formatLength(t.width)})));return(e,t)=>{const o=Ct;return q(),J("div",{class:ee(te(n))},[ne("div",{class:ee(`${te(n)}_wrapper`)},[ne("div",{class:"menu_wrapper",style:qe(te(S))},[Ue(e.$slots,"header"),ne("div",{ref_key:"scrollEl",ref:c,class:"menu"},[Q(o,{style:qe(te(p)),inverted:te(g)},{default:he((()=>[Ue(e.$slots,"default")])),_:3},8,["style","inverted"])],512),Ue(e.$slots,"trigger",{},(()=>[te(u)?(q(),fe(an,{key:0,collapsed:te(r),type:te(l)},null,8,["collapsed","type"])):xe("",!0)]))],4),e.$slots.secondaryMenu?(q(),J("div",In,[Ue(e.$slots,"secondaryMenu")])):xe("",!0)],2)],2)}}});const Rn={class:"header_wrapper"},On={class:"title font-segoe"};var Bn=c(Y({name:"SiderWrapper",components:{Sider:Y({setup(e){const{prefixCls:t}=G("layout-sideBar"),{getIsMobile:n}=xt(),{getCollapsed:o,getRealWidth:a,getMenuHidden:l,getMenuInverted:r,getIsSidebarType:s,getSplit:i}=T(),u=pe((()=>i.value?w.SECONDARY:w.NONE)),c=pe((()=>i.value?L.VERTICAL:null)),d=pe((()=>!i.value||!l.value)),p=pe((()=>r.value&&!i.value)),g=pe((()=>n.value?tt(100,a.value,240):a.value));return(e,n)=>{const a=W;return ve((q(),fe(Mn,{class:ee(te(t)),width:te(g),inverted:te(p)},{header:he((()=>[te(s)?(q(),fe(a,{key:0,class:"flex items-center h-64px",collapsed:te(o),"title-color":te(r)?"white":void 0},null,8,["collapsed","title-color"])):xe("",!0)])),default:he((()=>[Q(ln,{"menu-mode":te(c),"split-type":te(u),inverted:te(p)},null,8,["menu-mode","split-type","inverted"])])),_:1},8,["class","width","inverted"])),[[me,te(d)]])}}}),MixSider:Y(i(s({},{name:"LayoutMixSider",directives:{clickOutside:mt}}),{setup(e){Oe((e=>({"46ce9a84":te(A),"46dc57bd":te(R)})));const t=ae(),n=ae(""),o=ae(),a=ae(!1),l=ae(),r=Ge({borderLeftColor:"transparent",borderRightColor:"transparent",borderWidth:void 0}),i=ae(null),{prefixCls:c}=G("layout-mix-sider"),p=C(),{t:g}=d(),{getIsDarkMode:f}=Tt(),{getMenuWidth:h,getCloseMixSidebarOnChange:v,getMixSideTrigger:m,getMenuInverted:b,getMixSideFixed:x,mixSideHasChildrenRef:S,setMenuSetting:_,getIsMixSidebar:E,getCollapsed:L}=T(),{title:k}=$(),I=y(),M=pe((()=>s({left:te(x)?0:`${te(O)}px`,position:te(x)?"static":"absolute"},r))),R=pe((()=>te(f)||te(b)?"white":"var(--app-primary-color)"));ge(x,(e=>u(this,null,(function*(){const t=Je(l);if(t)if(e)t.style.transitionProperty="";else{yield ce();const e=getComputedStyle(t).transitionProperty;t.style.transitionProperty=`${e}, left`}})))),ge([x,a],(([e,t])=>{r.borderLeftColor=e?"transparent":t?te(b)&&!te(f)?"rgb(18, 41, 64)":"var(--mix-sider-border-color)":"transparent",r.borderRightColor=e?"transparent":t?"var(--mix-sider-border-color)":"transparent",r.borderWidth=t?void 0:0}),{immediate:!0}),ge([o,x],(([e,t])=>{S.value=!!(e&&(null==e?void 0:e.length)>0);const n=t&&te(S);n&&(a.value=n)}));const O=pe((()=>te(L)?P.COLLAPSED_WIDTH:P.WIDTH)),A=pe((()=>te(L)?P.LOGO_COLLAPSED_WRAPPER_HEIGHT:P.LOGO_WRAPPER_HEIGHT)),F=pe((()=>te(L)?P.LOGO_COLLAPSED_SIZE:P.LOGO_SIZE)),H=pe((()=>te(x)?{}:{onMouseleave:j}));function D(e,t=!1){return u(this,null,(function*(){const l=yield Ut(e);if(te(n)===e?(t?te(a)||(a.value=!0):te(a)?K():a.value=!0,te(a)||N()):(a.value=!0,n.value=e),!l||0===l.length)return t||p(e),o.value=[],void K();o.value=l}))}function N(e=!1){return u(this,null,(function*(){var l;const r=null==(l=i.value)?void 0:l.path;if(r&&(n.value=yield Nt(r),te(E))){const l=(t.value||[]).find((e=>e.path===te(n))),r=null==l?void 0:l.path;if(r){const t=yield Ut(r);e&&(o.value=t,te(x)&&(a.value=t.length>0)),0===t.length&&(o.value=[])}}}))}function j(){N(!0),K()}function U(){_({mixSideFixed:!te(x)})}function K(){const e=te(o);te(x)&&e&&0!==e.length||(a.value=!1)}nt((()=>u(this,null,(function*(){t.value=yield jt()})))),ge([()=>I.getLastBuildMenuTime,()=>I.getBackMenuList],(()=>u(this,null,(function*(){t.value=yield jt()}))),{immediate:!0}),B((e=>{i.value=e,N(!0),te(v)&&K()}));const V=e=>{var t;return Ne("div",s({class:"item_wrapper"},function(e){return"hover"===te(m)?{onMouseenter:()=>D(e.path,!0),onClick:()=>u(this,null,(function*(){const t=yield Ut(e.path);e.path&&t&&0===t.length&&p(e.path)}))}:{onClick:()=>D(e.path)}}(e)),[Ne(vt,{useTranstion:!0,size:L.value?18:22,icon:e.icon||e.meta&&e.meta.icon}),Ne("p",{class:"item_label"},g(null!=(t=null==e?void 0:e.label)?t:""))])};return(e,o)=>{const r=W,s=je,i=ot("click-outside");return ve((q(),fe(Mn,at({class:[te(c),{mini:te(L)}],width:te(O)},te(H)),{header:he((()=>[Q(r,{class:ee(`${te(c)}-logo`),"logo-size":te(F),"show-title":!1,isStatic:""},null,8,["class","logo-size"])])),default:he((()=>[Q(s,{indent:0,options:t.value,inverted:te(b),"key-field":"path",class:ee(`${te(c)}-menu-left`),value:n.value,"onUpdate:value":o[0]||(o[0]=e=>n.value=e),"render-icon":()=>null,"render-label":V},null,8,["options","inverted","class","value","render-icon"])])),secondaryMenu:he((()=>[Q(Mn,{class:ee(`${te(c)}-secondary-menu_wrapper`),ref_key:"sideRef",ref:l,style:qe(te(M)),width:a.value?te(h):0,trigger:!1},{header:he((()=>[ne("div",Rn,[ne("span",On,oe(te(k)),1),Q(vt,{size:16,icon:te(x)?"ri:pushpin-2-fill":"ri:pushpin-2-line",color:te(b)||te(f)?"white":void 0,class:"pushpin",onClick:U},null,8,["icon","color"])])])),default:he((()=>[Q(ln,{inverted:te(b),splitType:te(w).SECONDARY,"parent-path":n.value,"global-split":"","no-collapsed":""},null,8,["inverted","splitType","parent-path"])])),_:1},8,["class","style","width"])])),_:1},16,["class","width"])),[[i,j]])}}}))},setup(){const{prefixCls:e}=G("layout-sider-wrapper"),{getIsMobile:t}=xt(),{setMenuSetting:n,getShowSidebar:o,getIsMixSidebar:a,getMenuWidth:l,getCollapsed:r}=T();return{prefixCls:e,getWidth:pe((()=>tt(100,l.value,240))),getShowSidebar:o,getIsMobile:t,getIsMixSidebar:a,getCollapsed:r,handleChange:function(e){n({collapsed:!e})}}}}),[["render",function(e,t,n,o,a,l){const r=Ye("Sider"),s=lt,i=rt,u=Ye("MixSider");return e.getShowSidebar||e.getIsMobile?(q(),J(be,{key:0},[e.getIsMobile?(q(),fe(i,{key:0,placement:"left",class:ee(e.prefixCls),width:e.getWidth,show:!e.getCollapsed,"onUpdate:show":e.handleChange},{default:he((()=>[Q(s,{"body-content-style":"padding:0;"},{default:he((()=>[Q(r)])),_:1})])),_:1},8,["class","width","show","onUpdate:show"])):e.getIsMixSidebar?(q(),fe(u,{key:1})):(q(),fe(r,{key:2}))],64)):xe("",!0)}]]);const An=Y({name:"FrameLayout",components:{FramePage:It},setup(){const{getFramePages:e,hasRenderFrame:t,showIframe:n}=function(){const e=$e(),{currentRoute:t}=e,{getShowMultipleTab:n}=pn(),o=M(),a=pe((()=>r(Ze(e.getRoutes()))||[])),l=pe((()=>o.getTabList.reduce(((e,t)=>(t.meta&&Reflect.has(t.meta,"frameSrc")&&e.push(t.name),e)),[])));function r(e){let t=[];for(const n of e){const{meta:{frameSrc:e}={},children:o}=n;e&&t.push(n),o&&o.length&&t.push(...r(o))}return t=st(t,"name"),t}return{hasRenderFrame:function(t){return te(n)?te(l).includes(t):e.currentRoute.value.name===t},getFramePages:a,showIframe:function(e){return e.name===te(t).name},getAllFramePages:r}}(),o=pe((()=>te(e).length>0));return{getFramePages:e,hasRenderFrame:t,showIframe:n,showFrame:o}}}),$n={key:0};var Pn=c(Y({name:"PageLayout",components:{FrameLayout:c(An,[["render",function(e,t,n,o,a,l){const r=Ye("FramePage");return e.showFrame?(q(),J("div",$n,[(q(!0),J(be,null,ye(e.getFramePages,(t=>{var n;return q(),J(be,{key:t.path},[(null==(n=t.meta)?void 0:n.frameSrc)&&e.hasRenderFrame(t.name)?ve((q(),fe(r,{key:0,"frame-src":t.meta.frameSrc},null,8,["frame-src"])),[[me,e.showIframe(t)]]):xe("",!0)],64)})),128))])):xe("",!0)}]])},setup(){const e=ae("readly"),t=ae("fade-slide"),{getCanEmbedIFramePage:n}=Tt();St({pageTranstionName:t,pageTranstionState:e});const{openCache:o,getCaches:a,getKey:l}=function(e){const{getBasicTransition:t,getEnableTransition:n}=F(),{getShowMultipleTab:o}=pn(),a=M(),{getOpenKeepAlive:l}=Tt(),r=it(),s=pe((()=>te(l)&&te(o))),i=pe((()=>te(l)?a.getCachedTabList:[])),u=pe((()=>r.fullPath));return ut((()=>{te(n)?te(s)&&(e.value=r.meta.hidePageTransition?void 0:r.meta.transitionName||te(t)||H.FADE_SIDE_RIGHT):e.value=void 0})),{openCache:s,getCaches:i,getKey:u}}(t);return{openCache:o,getCaches:a,getKey:l,pageTranstionName:t,handleStart:()=>{e.value="readly"},handleEnter:()=>{e.value="running"},handleEnd:()=>{e.value="finshed"},getCanEmbedIFramePage:n}}}),[["render",function(e,t,n,o,a,l){const r=Ye("RouterView"),s=Ye("FrameLayout");return q(),J(be,null,[Q(r,null,{default:he((({Component:t})=>[Q(Se,{name:e.pageTranstionName,mode:"out-in",appear:"",onBeforeEnter:e.handleStart,onEnter:e.handleEnter,onAfterEnter:e.handleEnd},{default:he((()=>[e.openCache?(q(),fe(ct,{key:0,include:e.getCaches},[(q(),fe(Be(t),{key:e.getKey}))],1032,["include"])):(q(),fe(Be(t),{key:e.getKey}))])),_:2},1032,["name","onBeforeEnter","onEnter","onAfterEnter"])])),_:1}),e.getCanEmbedIFramePage?(q(),fe(s,{key:0})):xe("",!0)],64)}]]);const Fn={class:"flex-1"};var Hn=c(Y({name:"DefaultLayout",components:{LayoutSider:Bn,LayoutHeader:kn,LayoutContent:Y(i(s({},{name:"LayoutContent"}),{setup(e){const t=ae(),n=ae(),o=it(),{prefixCls:a}=G("layout-content"),{getOpenPageLoading:l}=F(),{getPageLoading:r}=Tt(),{width:s,height:i}=et(n),{emit:c}=Mt();dt(n,c),_t({width:s,height:i});const d=pe((()=>{var e;return l.value&&!(null==(e=o.meta)?void 0:e.hideLoading)&&r.value}));return D((()=>u(this,null,(function*(){const e=t.value;e&&(yield pt(300),e.scrollTo({left:0,top:0}))})))),(e,o)=>{const l=N,r=gt,s=ft,u=ht;return q(),J("main",{ref_key:"contentEl",ref:n,class:ee([te(a),"transform-gpu"])},[Q(l,{show:te(d)},null,8,["show"]),Q(u,{embedded:"",class:"h-full",position:"absolute"},{default:he((()=>[Q(s,{ref_key:"scrollBarEl",ref:t,style:qe({maxHeight:`${te(i)}px`})},{default:he((()=>[Q(r,{right:40,bottom:60}),ne("div",{class:"flex flex-col",style:qe({minHeight:`${te(i)}px`})},[ne("div",Fn,[Q(Pn)]),Ue(e.$slots,"footer")],4)])),_:3},8,["style"])])),_:3})],2)}}})),LayoutFooter:Z},setup(){const{prefixCls:e}=G("default-layout"),{getMenuType:t}=T();return{getLayoutCls:pe((()=>{let e="";switch(t.value){case j.SIDEBAR:e=U.SIDEBAR;break;case j.MIX_SIDEBAR:e=U.MIX_SIDEBAR;break;case j.MIX:e=U.MIX;break;case j.TOP_MENU:e=U.TOP_MENU}return`${e}`})),prefixCls:e}}}),[["render",function(e,t,n,o,a,l){const r=Ye("LayoutHeader"),s=Ye("LayoutSider"),i=Ye("LayoutFooter"),u=Ye("LayoutContent");return q(),J("div",{class:ee([e.prefixCls,e.getLayoutCls])},[Q(r),Q(s),Q(u,null,{footer:he((()=>[Q(i)])),_:1})],2)}]]),Dn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Hn});export{pn as a,Xt as c,Dn as i,rn as u};
