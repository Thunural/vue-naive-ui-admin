import{I as o,Q as l,p as a}from"./index.5eb97f6e.js";import{r as n,q as e,u as s,v as r,A as t,bR as u,t as d,aS as i,bc as c,ar as v,w as M}from"./vendor.07696a3b.js";const p=n({}),g=n({});function h(){const a=r(null),n=r(!1),c=r("");const v=()=>{const o=s(a);return o||l("useModal instance is undefined!"),o};return[function(l,e){if(!t())throw new Error("useModal() can only be used inside setup() or functional components!");c.value=e,u((()=>{a.value=null,n.value=!1,p[s(c)]=null})),s(n)&&o()&&l===s(a)||(a.value=l,n.value=!0,l.emitShow=(o,l)=>{g[l]=o})},{setModalProps:o=>{var l;null==(l=v())||l.setModalProps(o)},getShow:e((()=>g[~~s(c)])),redoModalHeight:()=>{var o,l;null==(l=null==(o=v())?void 0:o.redoModalHeight)||l.call(o)},openModal:(o=!0,l,a=!0)=>{var n;if(null==(n=v())||n.setModalProps({show:o}),!l)return;const e=s(c);if(a)return p[e]=null,void(p[e]=d(l));i(d(p[e]),d(l))||(p[e]=d(l))},closeModal:()=>{var o;null==(o=v())||o.setModalProps({show:!1})}}]}const f=o=>{const n=r(null),u=t(),d=r(""),i=()=>{const o=s(n);return o||l("useModalInner instance is undefined!"),o};return v((()=>{const l=p[s(d)];l&&o&&a(o)&&M((()=>{o(l)}))})),[(o,l)=>{c((()=>{n.value=null})),d.value=l,n.value=o,null==u||u.emit("register",o,l)},{changeLoading:(o=!0)=>{var l;null==(l=i())||l.setModalProps({loading:o})},getShow:e((()=>g[~~s(d)])),changeOkLoading:(o=!0)=>{var l;null==(l=i())||l.setModalProps({confirmLoading:o})},closeModal:()=>{var o;null==(o=i())||o.setModalProps({show:!1})},setModalProps:o=>{var l;null==(l=i())||l.setModalProps(o)},redoModalHeight:()=>{var o;const l=null==(o=i())?void 0:o.redoModalHeight;l&&l()}}]};export{f as a,h as u};
