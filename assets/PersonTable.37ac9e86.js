import{B as e,_ as n}from"./TableAction.194909fc.js";import{G as t,v as o,V as a,a9 as i,Y as l,u as r,X as d,aF as u,ah as s,aK as c}from"./vendor.07696a3b.js";import"./Icon.6e18bc20.js";import"./index.da21496c.js";import"./propTypes.eec1be73.js";import"./useDesign.1773b4b7.js";import"./vuedraggable.62f47d7d.js";import"./componentSetting.58af93ba.js";import"./useWindowSizeFn.4ff80f43.js";const p=u(" ＋ 新增成员 "),m=t({setup(t){const u=[{title:"成员姓名",key:"name",editComponent:"NInput",editRow:!0,edit:!0},{title:"工号",key:"no",editComponent:"NInput",editRow:!0,edit:!0},{title:"所属部门",key:"dept",editComponent:"NInput",editRow:!0,edit:!0}],m={width:150,title:"操作",key:"action",fixed:"right",align:"center",render:e=>s(n,{style:"button",actions:f(e)})},v=o([{name:"John Brown",no:"00001",dept:"New York No. 1 Lake Park"},{name:"John Brown2",no:"00002",dept:"New York No. 2 Lake Park"},{name:"John Brown3",no:"00003",dept:"New York No. 3Lake Park"}]),k=o("");function f(e){return e.editable?[{label:"保存",onClick:y.bind(null,e)},{label:"取消",onClick:h.bind(null,e)}]:[{label:"编辑",onClick:b.bind(null,e)}]}function b(e){var n;k.value=e.key,null==(n=e.onEdit)||n.call(e,!0)}function h(e){var n;k.value="",null==(n=e.onEdit)||n.call(e,!1,!1)}function w({column:e,value:n,record:t}){"id"===e.key&&(t.editValueRefs.name4.value=`${n}`)}function y(e){return n=this,t=null,o=function*(){var n;(yield null==(n=e.onEdit)?void 0:n.call(e,!1,!0))&&(k.value="")},new Promise(((e,a)=>{var i=e=>{try{r(o.next(e))}catch(n){a(n)}},l=e=>{try{r(o.throw(e))}catch(n){a(n)}},r=n=>n.done?e(n.value):Promise.resolve(n.value).then(i,l);r((o=o.apply(n,t)).next())}));var n,t,o}function j(){v.value.push({name:"",no:"",dept:""})}return(n,t)=>{const o=c;return a(),i("div",null,[l(r(e),{columns:u,"show-advanced":!1,data:v.value,pagination:!1,"can-resize":!1,"action-column":m,onEditChange:w},null,8,["data"]),l(o,{block:"",class:"mt-5",dashed:"",onClick:j},{default:d((()=>[p])),_:1})])}}});export{m as default};
