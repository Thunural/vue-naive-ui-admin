var e=Object.defineProperty,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,n=(t,o,a)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a,l=(e,l)=>{for(var i in l||(l={}))o.call(l,i)&&n(e,i,l[i]);if(t)for(var i of t(l))a.call(l,i)&&n(e,i,l[i]);return e};import{_ as i}from"./Icon.6be87540.js";import{_ as r,B as s}from"./TableAction.0ccaefdb.js";import{_ as u}from"./BasicForm.24cae5a2.js";import{u as c}from"./useForm.eb431754.js";import{z as d}from"./index.5eb97f6e.js";import{ah as p,bf as m,G as f,v as b,D as y,r as h,bn as v,V as w,W as k,X as g,Y as j,u as S,aF as P,aK as _,aL as x,bS as N,b0 as T}from"./vendor.07696a3b.js";import"./propTypes.eec1be73.js";import"./useDesign.2e5b3993.js";import"./vuedraggable.6f574e51.js";import"./componentSetting.58af93ba.js";import"./useWindowSizeFn.12b67c52.js";import"./useBreakpoint.d166da76.js";const D=[{title:"id",key:"id",width:100},{title:"名称",key:"name",width:100},{title:"头像",key:"avatar",width:100,render:e=>p(m,{size:48,src:e.avatar})},{title:"地址",key:"address",auth:["super"],ifShow:()=>!0,width:150},{title:"开始日期",key:"beginTime",width:160},{title:"结束日期",key:"endTime",width:160},{title:"创建时间",key:"date",width:100}],q=[{field:"name",labelMessage:"这是一个提示",component:"NInput",label:"姓名",required:!0,componentProps:{onInput:e=>{}}},{field:"mobile",component:"NInputNumber",label:"手机",componentProps:{placeholder:"请输入手机号码",showButton:!1}},{field:"type",component:"NSelect",label:"类型",componentProps:{options:[{label:"类型一",value:1},{label:"类型二",value:2}]}},{field:"makeDate",component:"NDatePicker",label:"预约时间",defaultValue:164313526e4},{field:"makeTime",component:"NTimePicker",label:"停留时间"},{field:"makeSource",component:"NRadioGroup",label:"来源",defaultValue:1,componentProps:{options:[{label:"来源一",value:1},{label:"来源二",value:2}]}}],C=[{field:"name",component:"NInput",label:"名称",required:!0},{field:"address",component:"NInputTextarea",label:"地址",required:!0},{field:"date",component:"NDatePicker",label:"日期",required:!0}],I=P(" 新建 "),R=P("刷新数据"),z=P("取消"),O=P("确定"),B=f({setup(e){const{service:t}=d(),o=b(null),a=y(),n=b(),m=b(!1),f=b(!1),P=h({name:"",address:"",date:null}),B=b({page:1,pageSize:10}),F=h({width:220,title:"操作",key:"action",fixed:"right",render:e=>p(r,{style:"button",actions:[{label:"删除",icon:"ic:outline-delete-outline",quaternary:!0,type:"error",popConfirm:{title:"真的要删除吗？",icon:"ic:outline-delete-outline",onPositiveClick:W.bind(null,e)},ifShow:()=>!0,auth:["super"]},{label:"编辑",quaternary:!0,type:"info",onClick:L.bind(null,e),ifShow:()=>!0,auth:["super"]}],dropDownActions:[{label:"启用",key:"enabled",ifShow:()=>!0},{label:"禁用",key:"disabled",ifShow:()=>!0}],select:e=>{a.info(`您点击了，${e} 按钮`)}})}),[U]=c({gridProps:{cols:"1 sm:2 xl:3",xGap:24},inline:!0,schemas:q});function A(){m.value=!0}const G=e=>{return o=this,a=null,n=function*(){return yield t.demo.table.demoListApi(l(l(l({},P),B.value),e))},new Promise(((e,t)=>{var l=e=>{try{r(n.next(e))}catch(o){t(o)}},i=e=>{try{r(n.throw(e))}catch(o){t(o)}},r=t=>t.done?e(t.value):Promise.resolve(t.value).then(l,i);r((n=n.apply(o,a)).next())}));var o,a,n};function V(e){}function E(){n.value.reload()}function K(e){e.preventDefault(),f.value=!0,o.value.validate((e=>{e?a.error("请填写完整信息"):(a.success("新建成功"),setTimeout((()=>{m.value=!1,E()}))),f.value=!1}))}function L(e){a.info("点击了编辑")}function W(e){a.info("点击了删除")}function M(e){E()}function X(e){}return(e,t)=>{const o=i,a=v,l=_,r=x,c=N,d=T;return w(),k(d,{bordered:!1},{default:g((()=>[j(S(u),{onRegister:S(U),onSubmit:M,onReset:X},null,8,["onRegister"]),j(S(s),{ref_key:"actionRef",ref:n,columns:S(D),request:G,"row-key":e=>e.id,pagination:{pageSizes:[5,10,15]},"can-resize":!0,"action-column":S(F),"scroll-x":1090,"onUpdate:dropEditor":L,"onUpdate:dropDelete":W,"onUpdate:checkedRowKeys":V,title:"基础表格",titleTooltip:"温馨提醒"},{toolbar:g((()=>[j(l,{class:"mr-8px",type:"primary",onClick:A},{icon:g((()=>[j(a,null,{default:g((()=>[j(o,{icon:"ant-design:plus-outlined"})])),_:1})])),default:g((()=>[I])),_:1}),j(l,{type:"primary",onClick:E},{default:g((()=>[R])),_:1})])),_:1},8,["columns","row-key","action-column"]),j(c,{show:m.value,"onUpdate:show":t[1]||(t[1]=e=>m.value=e),"show-icon":!1,preset:"dialog",title:"新建"},{action:g((()=>[j(r,null,{default:g((()=>[j(l,{onClick:t[0]||(t[0]=()=>m.value=!1)},{default:g((()=>[z])),_:1}),j(l,{type:"info",loading:f.value,onClick:K},{default:g((()=>[O])),_:1},8,["loading"])])),_:1})])),default:g((()=>[j(S(u),{schemas:S(C),onSubmit:M,onReset:X},null,8,["schemas"])])),_:1},8,["show"])])),_:1})}}});export{B as default};
