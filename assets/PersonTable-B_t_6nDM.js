import{B as t,_ as e}from"./TableAction-CYfJG5Yf.js";import{d as o,r as i,o as n,c as r,h as s,b as a,w as l,q as p,k as m,B as u}from"./index-DRiF00Hx.js";import"./Icon-BBFjs19F.js";import"./propTypes-BrA6lfYr.js";import"./useDesign-BvV_xiJk.js";import"./vuedraggable-BuG-lPvb.js";import"./componentSetting-C8-BnnRr.js";import"./Tooltip-CFz38RsP.js";import"./_baseIsEqual-CCRaRR-p.js";import"./get-g7Q8ZpuG.js";import"./format-length-l2rsThpR.js";import"./cssr-BAp9t9hT.js";import"./use-merged-state-D6ChJkmy.js";import"./next-frame-once-DiJwGkuW.js";import"./Icon-CrA-p7eB.js";import"./Checkbox-B0o-0lIF.js";import"./Space-Bn-zZsLi.js";import"./light-iUBSSS2B.js";import"./get-slot-BjAOOWF7.js";import"./Divider-Bf1_7ZnV.js";import"./useWindowSizeFn-DPkcjxGY.js";import"./Input-CsapG9XR.js";import"./use-locale-B6YvjK0_.js";import"./InputNumber-gtL-_-KQ.js";import"./light-uiqwkDz5.js";import"./Add-CNS4l2VR.js";import"./Select-DJOhsJHO.js";import"./utils-gZPJG5sK.js";import"./Checkmark-DfZLjuro.js";import"./Empty-Byo6tjCM.js";import"./Tag-DnTiE1E0.js";import"./light-BjF-GFCJ.js";import"./attribute-Cap6sGiE.js";import"./Switch-CQUz5TKJ.js";import"./light-41H1pviH.js";import"./DatePicker-h7fBJGMd.js";import"./index-Dge0Bz3e.js";import"./RadioGroup-B2bZxxCM.js";import"./isEqual-M8Xd0A8n.js";import"./DataTable-DYoGUvYZ.js";import"./Dropdown-wodx8OeX.js";import"./ChevronRight-IasqeWR6.js";import"./create-ref-setter-DNc6_3jH.js";import"./Ellipsis-Da6Gdt_u.js";import"./prop-Cw6lxrfM.js";import"./Popselect-BjhdCUOU.js";const d=o({__name:"PersonTable",setup(o){const d=[{title:"成员姓名",key:"name",editComponent:"NInput",editRow:!0,edit:!0},{title:"工号",key:"no",editComponent:"NInput",editRow:!0,edit:!0},{title:"所属部门",key:"dept",editComponent:"NInput",editRow:!0,edit:!0}],c={width:150,title:"操作",key:"action",fixed:"right",align:"center",render:t=>m(e,{style:"button",actions:h(t)})},j=i([{name:"John Brown",no:"00001",dept:"New York No. 1 Lake Park"},{name:"John Brown2",no:"00002",dept:"New York No. 2 Lake Park"},{name:"John Brown3",no:"00003",dept:"New York No. 3Lake Park"}]),k=i("");function h(t){return t.editable?[{label:"保存",onClick:f.bind(null,t)},{label:"取消",onClick:b.bind(null,t)}]:[{label:"编辑",onClick:v.bind(null,t)}]}function v(t){var e;k.value=t.key,null==(e=t.onEdit)||e.call(t,!0)}function b(t){var e;k.value="",null==(e=t.onEdit)||e.call(t,!1,!1)}function g({column:t,value:e,record:o}){"id"===t.key&&(o.editValueRefs.name4.value=`${e}`)}function f(t){return e=this,o=null,i=function*(){var e;(yield null==(e=t.onEdit)?void 0:e.call(t,!1,!0))&&(k.value="")},new Promise(((t,n)=>{var r=t=>{try{a(i.next(t))}catch(e){n(e)}},s=t=>{try{a(i.throw(t))}catch(e){n(e)}},a=e=>e.done?t(e.value):Promise.resolve(e.value).then(r,s);a((i=i.apply(e,o)).next())}));var e,o,i}function w(){j.value.push({name:"",no:"",dept:""})}return(e,o)=>{const i=u;return n(),r("div",null,[s(a(t),{columns:d,"show-advanced":!1,data:j.value,pagination:!1,"can-resize":!1,"action-column":c,onEditChange:g},null,8,["data"]),s(i,{block:"",class:"mt-5",dashed:"",onClick:w},{default:l((()=>[p(" ＋ 新增成员 ")])),_:1})])}}});export{d as default};
